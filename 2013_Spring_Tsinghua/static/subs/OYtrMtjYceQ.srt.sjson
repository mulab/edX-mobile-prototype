{
  "start": [
    380, 
    4830, 
    6410, 
    8990, 
    11180, 
    12850, 
    14510, 
    16980, 
    19730, 
    23590, 
    26550, 
    30420, 
    32250, 
    35430, 
    39020, 
    42700, 
    45300, 
    49940, 
    52650, 
    57760, 
    59270, 
    60620, 
    63880, 
    67180, 
    70450, 
    71770, 
    71980, 
    73630, 
    75370, 
    80520, 
    83710, 
    84420, 
    85070, 
    86770, 
    89550, 
    93120, 
    94050, 
    96650, 
    100770, 
    103730, 
    107680, 
    110910, 
    112750, 
    113520, 
    115030, 
    118080, 
    125860, 
    128419, 
    131000, 
    133380, 
    134080, 
    137840, 
    141870, 
    143720, 
    147180, 
    148910, 
    153100, 
    156140, 
    160140, 
    163900, 
    166530, 
    170750, 
    172540, 
    175010, 
    176120, 
    179520, 
    182850, 
    183940, 
    186550, 
    190670, 
    192920, 
    195180, 
    198570, 
    201260, 
    203440, 
    206710, 
    208250, 
    210000, 
    212900, 
    215740, 
    218620, 
    224310, 
    231720, 
    233410, 
    236850, 
    241190, 
    242340, 
    244180, 
    247350, 
    250880, 
    253790, 
    256720, 
    259019, 
    260800, 
    262180, 
    266670, 
    270160, 
    276520, 
    279480, 
    280160, 
    282970, 
    284320, 
    287220, 
    291490, 
    295020, 
    299000, 
    301980, 
    305200, 
    308760, 
    311070, 
    312840, 
    317230, 
    319600, 
    322190, 
    323460, 
    324060, 
    331210, 
    332200, 
    333950, 
    335330, 
    339700, 
    343700, 
    346160, 
    348820, 
    350140, 
    352340, 
    355740, 
    357740, 
    361210, 
    362100, 
    364180, 
    366180, 
    370120, 
    375060, 
    377660, 
    381000, 
    384000, 
    388370, 
    389380, 
    392840, 
    396230, 
    399820, 
    405480, 
    408080, 
    408970, 
    412160, 
    418330, 
    419630, 
    423950, 
    428090, 
    430950, 
    434190, 
    437290, 
    438590, 
    442370, 
    446240, 
    447730, 
    450680, 
    451800, 
    454590, 
    457360, 
    460510, 
    463010, 
    465930, 
    468950, 
    472740, 
    476890, 
    480530, 
    484050, 
    488040, 
    492250, 
    495470, 
    499190, 
    502990, 
    505510, 
    509090, 
    510890, 
    513630, 
    516000, 
    518690, 
    522470, 
    524635, 
    525730, 
    530430, 
    531630, 
    536400, 
    538770, 
    540630, 
    544810, 
    548420, 
    550490, 
    553660, 
    556360, 
    560060, 
    563570, 
    566850, 
    569670, 
    570830, 
    574190, 
    578440, 
    581700, 
    583240, 
    586020, 
    589840, 
    593650, 
    595480, 
    597700, 
    600780, 
    605330, 
    608670, 
    610020, 
    612860, 
    614260, 
    615830, 
    618190, 
    619690, 
    621940, 
    623670, 
    624680, 
    626250, 
    629190, 
    631680, 
    635520, 
    639030, 
    640590, 
    643570, 
    647190, 
    650480, 
    655430, 
    657730, 
    660380, 
    664070, 
    667850, 
    670350, 
    671520, 
    674490, 
    675510, 
    675740, 
    679710, 
    681880, 
    685440, 
    689320, 
    693480, 
    697860, 
    699730, 
    703230, 
    706580, 
    711160, 
    714920, 
    717730, 
    720610, 
    721620, 
    724040, 
    724980, 
    728330, 
    729310, 
    732210, 
    736890, 
    739750, 
    740840, 
    744510, 
    748450, 
    752210, 
    754080, 
    755820, 
    758780, 
    762320, 
    766120, 
    768020, 
    771700, 
    775750, 
    779610, 
    780790, 
    784070, 
    785330, 
    787830, 
    789270, 
    792250, 
    793330, 
    797070, 
    799700, 
    802950, 
    806230, 
    807820, 
    810460, 
    812360, 
    813700, 
    817170, 
    821550, 
    824530, 
    828390, 
    830540, 
    837290, 
    839790, 
    842420, 
    844820, 
    850640, 
    854210, 
    856730
  ], 
  "end": [
    4830, 
    6410, 
    8990, 
    11180, 
    12850, 
    14510, 
    16980, 
    19730, 
    23590, 
    26550, 
    30420, 
    32250, 
    35430, 
    39020, 
    42700, 
    45300, 
    49940, 
    52650, 
    57760, 
    59270, 
    60620, 
    63880, 
    67180, 
    70450, 
    71770, 
    71980, 
    73630, 
    75370, 
    80520, 
    83710, 
    84420, 
    85070, 
    86770, 
    89550, 
    93120, 
    94050, 
    96650, 
    100770, 
    103730, 
    107680, 
    110910, 
    112750, 
    113520, 
    115030, 
    118080, 
    121530, 
    128419, 
    131000, 
    133380, 
    134080, 
    137840, 
    141870, 
    143720, 
    147180, 
    148910, 
    153100, 
    156140, 
    160140, 
    163900, 
    166530, 
    170750, 
    172540, 
    175010, 
    176120, 
    179520, 
    182850, 
    183940, 
    186550, 
    190670, 
    192920, 
    195180, 
    198570, 
    201260, 
    203440, 
    206710, 
    208250, 
    210000, 
    212900, 
    215740, 
    218620, 
    224310, 
    231720, 
    233410, 
    236850, 
    241190, 
    242340, 
    244180, 
    247350, 
    250880, 
    253790, 
    256720, 
    259019, 
    260800, 
    262180, 
    266670, 
    270160, 
    276520, 
    279480, 
    280160, 
    282970, 
    284320, 
    287220, 
    291490, 
    295020, 
    299000, 
    301980, 
    305200, 
    308760, 
    311070, 
    312840, 
    317230, 
    319600, 
    322190, 
    323460, 
    324060, 
    325370, 
    332200, 
    333950, 
    335330, 
    339700, 
    343700, 
    346160, 
    348820, 
    350140, 
    352340, 
    355740, 
    357740, 
    361210, 
    362100, 
    364180, 
    366180, 
    367430, 
    375060, 
    377660, 
    381000, 
    384000, 
    388370, 
    389380, 
    392840, 
    396230, 
    399820, 
    405480, 
    408080, 
    408970, 
    412160, 
    418330, 
    419630, 
    423950, 
    428090, 
    430950, 
    434190, 
    437290, 
    438590, 
    442370, 
    446240, 
    447730, 
    450680, 
    451800, 
    454590, 
    457360, 
    460510, 
    463010, 
    465930, 
    468950, 
    472740, 
    476890, 
    480530, 
    484050, 
    488040, 
    492250, 
    495470, 
    499190, 
    502990, 
    505510, 
    509090, 
    510890, 
    513630, 
    516000, 
    518690, 
    522470, 
    524635, 
    525730, 
    530430, 
    531630, 
    536400, 
    538770, 
    540630, 
    544810, 
    548420, 
    550490, 
    553660, 
    556360, 
    560060, 
    563570, 
    566850, 
    569670, 
    570830, 
    574190, 
    578440, 
    581700, 
    583240, 
    586020, 
    589840, 
    593650, 
    595480, 
    597700, 
    600780, 
    605330, 
    608670, 
    610020, 
    612860, 
    614260, 
    615830, 
    618190, 
    619690, 
    621940, 
    623670, 
    624680, 
    626250, 
    629190, 
    631680, 
    635520, 
    639030, 
    640590, 
    643570, 
    647190, 
    650480, 
    655430, 
    657730, 
    660380, 
    664070, 
    667850, 
    670350, 
    671520, 
    674490, 
    675510, 
    675740, 
    679710, 
    681880, 
    685440, 
    689320, 
    693480, 
    697860, 
    699730, 
    703230, 
    706580, 
    711160, 
    714920, 
    717730, 
    720610, 
    721620, 
    724040, 
    724980, 
    728330, 
    729310, 
    732210, 
    736890, 
    739750, 
    740840, 
    744510, 
    748450, 
    752210, 
    754080, 
    755820, 
    758780, 
    762320, 
    766120, 
    768020, 
    771700, 
    775750, 
    779610, 
    780790, 
    784070, 
    785330, 
    787830, 
    789270, 
    792250, 
    793330, 
    797070, 
    799700, 
    802950, 
    806230, 
    807820, 
    810460, 
    812360, 
    813700, 
    817170, 
    821550, 
    824530, 
    828390, 
    830540, 
    834755, 
    839790, 
    842420, 
    844820, 
    850640, 
    854210, 
    856730, 
    857980
  ], 
  "text": [
    "ARMANDO FOX: So what we'll do today is we'll give a high level view of some", 
    "of the web architecture stuff.", 
    "This is stuff that's explained in a good deal of detail in the book.", 
    "There's also some really useful screen casts that I would", 
    "suggest you not skip.", 
    "Remember the screen casts are on Vimeo.", 
    "You can watch them even if you didn't buy the book.", 
    "So we'll talk about client server, some very, very basic stuff about", 
    "HTTP, and what are the moving parts in a web application.", 
    "And we'll move right into model view controller, which is the basis of", 
    "Rails, and also the basis of a lot of other applications, web and otherwise,", 
    "that don't use Rails.", 
    "And basically give just enough background on that so that we can, by", 
    "the end of today's lecture, get into some of the Rails basics and start", 
    "mapping the concepts that we're going to do in the architecture part onto", 
    "actual things that you'll be using.", 
    "So with that, we'll start with the web as a client server system.", 
    "And I'm going to sort of blow through TCPIP.", 
    "But from 100,000 feet, what you see when you use a web browser is there's", 
    "this magical cloud called the internet.", 
    "It's a series of tubes.", 
    "You request goes from your web browser to some interesting site somewhere.", 
    "And what you get back is some information from the server.", 
    "So this is the one thing about the web you cannot get away from is that it's", 
    "request-reply oriented.", 
    "Right?", 
    "The client initiates stuff.", 
    "The server responds to stuff.", 
    "And not withstanding some in-process additions to the HTTP standard that", 
    "could allow for real server push, at the end of the day this is where the", 
    "web comes from, right?", 
    "These are its roots.", 
    "It's a request-reply architecture.", 
    "Client asks a question, server gives the answer.", 
    "So there's a diagram in the book that tries to take you down through several", 
    "levels of detail.", 
    "And where we are right now is this very top level.", 
    "As far as we're concerned, there's a browser client, there's an application", 
    "server that gives us stuff, and there's this magical thing in the", 
    "middle, the internet, across which the information is going to flow.", 
    "And this not being a networking class, we're not going to go into a whole lot", 
    "of detail about the mechanics of how that happens.", 
    "It's fascinating.", 
    "We just don't have the time.", 
    "Fortunately you don't need to know a lot about it to work with web apps.", 
    "What you really care about is, what it is that you say over this connection.", 
    "By the way, I should point out one simplification.", 
    "I didn't mention DNS.", 
    "Really, you actually have to look up the name of the thing you want before", 
    "you get it.", 
    "Again, a simplification that we're going to gloss over for now because", 
    "it's actually not all that critical for 99% of what we're going to be", 
    "doing in this course.", 
    "So, like I said, what we really care about is not so much the mechanics of", 
    "getting bytes between the client and the server.", 
    "In fact, to a first order, because of the brilliant work of people like Vint", 
    "Cerf and Bob Kahn and the thousands of researchers and practitioners who", 
    "built on their ideas, you can more or less pretend that you can print a", 
    "string of bytes to a server and expect it to return a string of bytes back.", 
    "HTTP really is more or less that simple.", 
    "So hypertext transfer protocol is the thing that we speak between browsers", 
    "and servers.", 
    "It's an ASCII based protocol, meaning that everything in", 
    "the protocol is readable.", 
    "In fact, as I said, I encourage you to watch the screen cast that goes to the", 
    "book chapter because you can actually see the mechanics of what are the", 
    "bytes going back and forth.", 
    "It's totally English readable.", 
    "With HTTP we start by constructing a request that includes a method.", 
    "GET and POST are the two that you'll see most commonly.", 
    "There are others, but let's focus on those for now.", 
    "Generally speaking, GET implies that we're going to ask for information.", 
    "POST implies that we're going to provide information, probably to make", 
    "some sort of a change on the server.", 
    "There's a URI, Uniform Resource Identifier, that", 
    "forms part of the request.", 
    "You may have also heard it called a URL.", 
    "The differences between the two are subtle.", 
    "I use URI because technically that's the more general term.", 
    "But if you use URL, we won't penalize you.", 
    "It also tells you what HTTP protocol version is understood by the client.", 
    "And then there's some additional headers regarding what", 
    "the request is about.", 
    "And if all goes well, the server will receive the HTTP request and it will", 
    "put a response together that will say first of all, I acknowledge the", 
    "protocol version you're using.", 
    "I'm cool with it.", 
    "I'll also give you a status code which will begin with one of the numbers two", 
    "through five, depending on what the status of the request is.", 
    "Anything beginning with a two means all is well.", 
    "I'll give you some response headers which are some metadata about what I'm", 
    "about to send you, the information that you asked for.", 
    "And then finally I'll give you the data itself.", 
    "That's the response body.", 
    "So we can actually see a really simple version of this.", 
    "And I'm going to listen on port 8,000.", 
    "Again, the book has a discussion of TCP ports and things that we're not", 
    "going to talk about in the lecture.", 
    "OK.", 
    "I'm going to get this somewhat fictitious URL.", 
    "I'll make it a little bit larger.", 
    "Can you guys actually read that?", 
    "It says localhost:8,000/ladeeda.", 
    "And if I try to get that URL.", 
    "OK so this is what I just got from the browser, right?", 
    "So what's going on here, the browser contacted local host.", 
    "Local host means this same machine on which I'm running right now, which is", 
    "why I was able to fire up this little program that just listens on a", 
    "particular TCP port.", 
    "And this is what I got from the browser.", 
    "I got the URI that it wanted, la dee da, the protocol version.", 
    "Some information about the browser itself.", 
    "Cookies, which we'll learn about next week.", 
    "And now it's just waiting.", 
    "My turn.", 
    "I am now a web server.", 
    "OK.", 
    "HTTP really is that simple.", 
    "Now I glossed over a few things.", 
    "If I had sent back a well formed HTTP request, I would actually have first", 
    "sent back a bunch of headers similar to these that tell the browser things", 
    "like, what is the format of the information I'm sending back?", 
    "Is it HTML, is it an image, is it something else?", 
    "How long is the content?", 
    "Maybe some other useful information.", 
    "But I just took advantage of the fact that browsers are very forgiving.", 
    "And I just sent back an ASCII string.", 
    "The goal of that was to show you that HTTP is a really, really, really brain", 
    "dead simple protocol.", 
    "You just pretty much saw it in action.", 
    "And that's almost as much about it as you're going to need to", 
    "know for most purposes.", 
    "So, in terms of our diagram, if we're now ready to move one more layer down", 
    "the stack, we see we've got browsers, we've got servers.", 
    "We've got the HTTP protocol running between them, which is how we ask for", 
    "stuff and how the server communicates stuff back to us.", 
    "We can now go down one more level of detail and we can ask, what does the", 
    "website look like?", 
    "All we see from the outside is somewebsite.com.", 
    "But under the hood, when we take the pieces apart, what's it composed of?", 
    "And the way the web has evolved, this is a picture that in the last few", 
    "years, we take it for granted, but when the web began in 1995, '96, when", 
    "it really started to become mainstream, this picture", 
    "didn't really exist.", 
    "The idea that there were these three different components, which I've got", 
    "in the red circle that make up a typical web application today, that's", 
    "actually a fairly recent development.", 
    "I would say sort of the last 10, 15-ish years.", 
    "So the three pieces that are inside pretty much any web server these days", 
    "is that there's the presentation tier.", 
    "And if you've heard of the Apache Web server, and who hasn't, when most", 
    "people talk about the web server, really strictly speaking, that's just", 
    "the presentation tier.", 
    "It accepts the request from the outside world, and it communicates", 
    "with the application server, sometimes it's called the logic tier, and this", 
    "is where the actual work happens.", 
    "So when you write code that does something interesting on the web, this", 
    "is where you are putting it.", 
    "Which means that you would expect application servers might have to", 
    "support a variety of languages, as they do.", 
    "You would expect that application servers have features built into them", 
    "to solve common tasks in doing a web service.", 
    "Like, if you have to deal with cookies, that would be a common thing", 
    "that since any web app probably has to do it, you would want there to be", 
    "something in the app server that helps you do it, and indeed that's the case.", 
    "And finally most, not necessarily all, but the vast majority of interesting", 
    "websites have to store information persistently about the users.", 
    "Or about the content that they serve, or any number of other things.", 
    "That information is said to be put in the persistence tier.", 
    "In a sense of persistent storage, it's there permanently.", 
    "Most web servers, or most web applications including the ones that", 
    "we'll be developing using Rails use some sort of a relational database as", 
    "their back end, but that is by far not the only way to do it.", 
    "And we'll have a very interesting conversation a little bit later in the", 
    "semester about alternatives to that, that have developed in light of very,", 
    "very large sites like Facebook.", 
    "But this is the vanilla version of what you're going to", 
    "see 99% of the time.", 
    "And this is where the term of three tier architecture comes from.", 
    "The presentation tier, the logic tier where the action actually happens, and", 
    "the persistence tier, where the only thing that happens is", 
    "you're storing stuff.", 
    "I would say, in what I call the elder days, any Tolkien fans?", 
    "OK, never mind.", 
    "In the elder days, back before many of you were born and we were in web 1.0,", 
    "most web pages were kind of just plain old files.", 
    "They were static content.", 
    "But as soon as e-commerce started to happen, what happened was that most", 
    "interesting websites were now ones where, when you contacted the server,", 
    "it would basically run a program to generate something.", 
    "And the thing that it generated is what got sent back to you.", 
    "Now, you can imagine the way this began, right?", 
    "Originally you had HTML files that, every once in awhile, there'd be a", 
    "little snippet in that file that would be replaced by some running code.", 
    "And what happened is, over time the running code aspect of it became more", 
    "and more important, and the static HTML part became", 
    "less and less important.", 
    "So it became the tail that wagged the dog.", 
    "And the code that actually did the interesting stuff moved out of the web", 
    "server, out of the presentation tier, and moved into its own tier, the", 
    "application logic tier.", 
    "So those sites are really programs, right?", 
    "What you're really doing, when you type a URL to someplace like eBay, is", 
    "you're causing some code to run at the other site, and whatever it generates", 
    "as its output is what's going to get sent back to you.", 
    "HTML is just the formatting mechanism.", 
    "So, if you realize that what you're really doing is, you're using a web", 
    "browser and URLs, or URIs, to cause a program to be run, you can now ask", 
    "some questions like, how do you figure out what program", 
    "corresponds to a given URI?", 
    "Or if there's many different functions this site could perform, how do you", 
    "establish that mapping?", 
    "How do you pass arguments to the program?", 
    "I mean, obviously, you can't pass them on the command line because there is", 
    "no command line.", 
    "How do you cause the program to start up on the server?", 
    "How does it deal with persistent storage?", 
    "How do you handle errors?", 
    "What if something goes wrong?", 
    "And finally, how do you package the output properly so it can be sent back", 
    "and displayed in the user's web browser?", 
    "So to make a long story short, because these tasks are common to any web", 
    "application no matter what language you use, frameworks began to appear", 
    "that would support these common tasks.", 
    "The idea was to make it easier for programmers to do this stuff without", 
    "having to essentially invent these primitive functions over and over", 
    "again for every new application that they wrote.", 
    "And again, in terms of our standard stack, you start from the client,", 
    "which is a web browser.", 
    "Requests from it hit the presentation tier first.", 
    "Through a mechanism that is based on what was originally called the Common", 
    "Gateway Interface, but has now evolved quite a bit, this causes your code to", 
    "be run somehow on the application server.", 
    "That's in the logic tier.", 
    "And as necessary, that code may store things or read things from the", 
    "persistence tier.", 
    "Right?", 
    "So this is sort of the workflow view of that diagram, the layer diagram on", 
    "the previous slide.", 
    "And I should point out that this is the schematic sort of view, right?", 
    "We're sort of pretending that there is a presentation to your server here,", 
    "and that there is a logic to your server and a persistence server here.", 
    "In fact, when you do medium scale deployments and large scale", 
    "deployments, the picture changes a little bit.", 
    "So on the left here is what we just saw, except that I've replaced the", 
    "generic names with things that are specific to Rails.", 
    "So when you're developing on your own computer, you will run locally a very,", 
    "very simplified presentation tier called WEBrick.", 
    "You'll run a simple application server called Rack.", 
    "And then there's all kinds of libraries provided by Rails to help", 
    "you write your app.", 
    "And finally, there's an adapter to talk to, whichever", 
    "database you're using.", 
    "When you're developing locally on your machine, you use SQLite, which is", 
    "exactly what it sounds like.", 
    "It's a light version of a database that's good for development.", 
    "One machine, one user at a time, but whose API, the way you program it, is", 
    "functionally almost identical to what you would use in a quote unquote \"real", 
    "database.\" Right?", 
    "So this is the development environment that you'll generally be using.", 
    "A typical deployment environment is more like this, where in fact, you've", 
    "got a bunch of stuff in front of the web servers.", 
    "So here is now a bunch of columns.", 
    "Each one of these is called a column.", 
    "And within a column the structure is the same as what we've already seen.", 
    "But as you can see from the picture, the way that you scale out these", 
    "services to support more and more people, is that you replicate the", 
    "functionality in each of these columns.", 
    "And the idea that you've got kind of a magic agent in the front.", 
    "Depending on terminology it might be called a caching proxy or a redirector", 
    "or a load balancer that will actually farm out different requests to", 
    "different columns.", 
    "And, in fact, recently you can even add more columns as you get more and", 
    "more users.", 
    "Now you might wonder why we haven't also replicated the", 
    "database server up here.", 
    "That's the subject of one of next week's lectures, but it has to do with", 
    "database consistency.", 
    "If you've taken CS186 or a database course, that means something to you.", 
    "If not, it'll mean something to you by next week.", 
    "The deployment environment we're going to use when you get around to doing", 
    "the homeworks and projects is based on the Heroku platform, which is a", 
    "platform as a service.", 
    "Basically that means that they've packaged a lot of the machinery that", 
    "does this column replication for you.", 
    "You don't have to worry about it anymore.", 
    "And in fact, as we'll discuss in the second half of the course when we talk", 
    "about operations, the fact that these platforms have now automated a lot of", 
    "what you used to have to manage by hand is one of the things that makes", 
    "it much easier to deploy a SaaS application today, even compared to", 
    "maybe five years ago.", 
    "So that's where we're going in terms of our deployment environments.", 
    "Let's exercise a little bit.", 
    "This is one of those matching things, where you have to draw a line between", 
    "two columns to match the terms together.", 
    "So one of these answers is a correct mapping of something you'd run for the", 
    "presentation tier, something you'd run for the application logic tier, and", 
    "something you'd run for the persistence tier.", 
    "Which one?"
  ]
}