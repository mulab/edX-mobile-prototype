{
  "start": [
    1390, 
    4160, 
    7350, 
    10320, 
    12150, 
    13650, 
    17410, 
    20920, 
    24340, 
    25650, 
    25800, 
    28340, 
    29110, 
    31230, 
    33290, 
    34710, 
    38040, 
    42110, 
    44750, 
    46610, 
    50440, 
    54360, 
    56790, 
    58100, 
    60050, 
    63100, 
    63670, 
    66520, 
    67520, 
    71750, 
    75940, 
    78240, 
    79380, 
    81810, 
    84950, 
    88380, 
    90395, 
    94610, 
    97930, 
    100790, 
    104930, 
    108440, 
    111280, 
    112700, 
    115430, 
    117640, 
    122020, 
    124740, 
    125770, 
    129735, 
    131140, 
    132820, 
    135250, 
    136140, 
    138580, 
    141580, 
    144550, 
    148960, 
    150540, 
    152960, 
    154470, 
    157870, 
    161150, 
    164620, 
    167430, 
    169080, 
    172360, 
    174200, 
    176880, 
    179410, 
    182490, 
    187370, 
    188270, 
    190980, 
    191760, 
    194260, 
    194710, 
    195990, 
    197010, 
    200490, 
    202860, 
    206340, 
    209720, 
    212890, 
    215440, 
    218770, 
    221620, 
    224190, 
    225250, 
    228510, 
    231010, 
    234480, 
    238120, 
    242090, 
    245030, 
    248750, 
    252610, 
    254350, 
    258050, 
    260420, 
    263660, 
    267360, 
    269950, 
    272570, 
    273500, 
    275150, 
    279010, 
    280070, 
    282460, 
    282700, 
    283480, 
    286180, 
    286710, 
    288200, 
    288840, 
    290490, 
    293040, 
    296360, 
    299050, 
    300000, 
    303020, 
    306550, 
    309830, 
    313660, 
    315200, 
    318430, 
    319450, 
    322060, 
    324075, 
    327220, 
    327420, 
    330660, 
    336210, 
    339860, 
    345300, 
    347650, 
    349820, 
    350670, 
    352970, 
    354030, 
    357050, 
    359390, 
    360950, 
    362780, 
    365700, 
    367470, 
    369700, 
    371230, 
    373980, 
    376970, 
    378540, 
    381310, 
    384480, 
    387460, 
    391320, 
    393480, 
    396610, 
    398920, 
    401710, 
    405160, 
    406450, 
    408670, 
    409670, 
    412210, 
    415970, 
    419310, 
    421280, 
    425490, 
    428430, 
    432670, 
    434510, 
    437510, 
    440290, 
    443870, 
    445540, 
    449170, 
    453170, 
    455500, 
    458750, 
    463220, 
    464300, 
    467820, 
    469060, 
    470760, 
    475380, 
    479470, 
    485190, 
    486860, 
    490950, 
    492840, 
    496900, 
    497960, 
    500810, 
    502780, 
    505440, 
    505600, 
    508260, 
    511420, 
    513370, 
    517270, 
    520210, 
    523390, 
    526790, 
    530370, 
    535690, 
    537860, 
    541600, 
    542600, 
    543320, 
    543860, 
    545020, 
    547780, 
    550480, 
    551530, 
    554290, 
    557020, 
    560700, 
    562900, 
    569500, 
    573480, 
    575180, 
    579430, 
    583550, 
    587040, 
    591010, 
    592010, 
    595140, 
    599170, 
    602240, 
    605400, 
    606250, 
    609340, 
    611350, 
    614200, 
    618070, 
    619140, 
    622890, 
    625760, 
    627320, 
    630600, 
    633250, 
    636510, 
    639530, 
    642120, 
    646370, 
    648190, 
    651620, 
    653900, 
    656020, 
    659830, 
    665290, 
    669680, 
    671060, 
    672690, 
    675290, 
    677080, 
    678460, 
    680450, 
    682370, 
    684550, 
    686100, 
    688700, 
    690750, 
    694710, 
    697010, 
    701250, 
    703110, 
    703930, 
    705030, 
    709130, 
    713610, 
    715640, 
    718480, 
    720560, 
    722340, 
    726210, 
    729130, 
    730450, 
    733870, 
    735070, 
    737700, 
    739860, 
    742780, 
    745460, 
    746860, 
    749640, 
    752800, 
    756490
  ], 
  "end": [
    4160, 
    7350, 
    10320, 
    12150, 
    13650, 
    17410, 
    20920, 
    24340, 
    25650, 
    25800, 
    28340, 
    29110, 
    31230, 
    33290, 
    34710, 
    38040, 
    42110, 
    44750, 
    46610, 
    50440, 
    54360, 
    56790, 
    58100, 
    60050, 
    63100, 
    63670, 
    66520, 
    67520, 
    71750, 
    75940, 
    78240, 
    79380, 
    81810, 
    84950, 
    88380, 
    90395, 
    94610, 
    97930, 
    100790, 
    104930, 
    108440, 
    111280, 
    112700, 
    115430, 
    117640, 
    122020, 
    124740, 
    125770, 
    129735, 
    131140, 
    132820, 
    135250, 
    136140, 
    138580, 
    141580, 
    144550, 
    148960, 
    150540, 
    152960, 
    154470, 
    157870, 
    161150, 
    164620, 
    167430, 
    169080, 
    172360, 
    174200, 
    176880, 
    179410, 
    182490, 
    187370, 
    188270, 
    190980, 
    191760, 
    194260, 
    194710, 
    195990, 
    197010, 
    200490, 
    202860, 
    206340, 
    209720, 
    212890, 
    215440, 
    218770, 
    221620, 
    224190, 
    225250, 
    228510, 
    231010, 
    234480, 
    238120, 
    242090, 
    245030, 
    248750, 
    252610, 
    254350, 
    258050, 
    260420, 
    263660, 
    267360, 
    269950, 
    272570, 
    273500, 
    275150, 
    279010, 
    280070, 
    282460, 
    282700, 
    283480, 
    286180, 
    286710, 
    288200, 
    288840, 
    290490, 
    293040, 
    296360, 
    299050, 
    300000, 
    303020, 
    306550, 
    309830, 
    313660, 
    315200, 
    318430, 
    319450, 
    322060, 
    324075, 
    327220, 
    327420, 
    330660, 
    336210, 
    339860, 
    345300, 
    347650, 
    349820, 
    350670, 
    352970, 
    354030, 
    357050, 
    359390, 
    360950, 
    362780, 
    365700, 
    367470, 
    369700, 
    371230, 
    373980, 
    376970, 
    378540, 
    381310, 
    384480, 
    387460, 
    391320, 
    393480, 
    396610, 
    398920, 
    401710, 
    405160, 
    406450, 
    408670, 
    409670, 
    412210, 
    415970, 
    419310, 
    421280, 
    425490, 
    428430, 
    432670, 
    434510, 
    437510, 
    440290, 
    443870, 
    445540, 
    449170, 
    453170, 
    455500, 
    458750, 
    463220, 
    464300, 
    467820, 
    469060, 
    470760, 
    475380, 
    479470, 
    485190, 
    486860, 
    490950, 
    492840, 
    496900, 
    497960, 
    500810, 
    502780, 
    505440, 
    505600, 
    508260, 
    511420, 
    513370, 
    517270, 
    520210, 
    523390, 
    526790, 
    530370, 
    535690, 
    537860, 
    541600, 
    542600, 
    543320, 
    543860, 
    545020, 
    547780, 
    550480, 
    551530, 
    554290, 
    557020, 
    560700, 
    562900, 
    569500, 
    573480, 
    575180, 
    579430, 
    583550, 
    587040, 
    591010, 
    592010, 
    595140, 
    599170, 
    602240, 
    605400, 
    606250, 
    609340, 
    611350, 
    614200, 
    618070, 
    619140, 
    622890, 
    625760, 
    627320, 
    630600, 
    633250, 
    636510, 
    639530, 
    642120, 
    646370, 
    648190, 
    651620, 
    653900, 
    656020, 
    659830, 
    665290, 
    669680, 
    671060, 
    672690, 
    675290, 
    677080, 
    678460, 
    680450, 
    682370, 
    684550, 
    686100, 
    688700, 
    690750, 
    694710, 
    697010, 
    701250, 
    703110, 
    703930, 
    705030, 
    709130, 
    713610, 
    715640, 
    718480, 
    720560, 
    722340, 
    726210, 
    729130, 
    730450, 
    733870, 
    735070, 
    737700, 
    739860, 
    742780, 
    745460, 
    746860, 
    749640, 
    752800, 
    756490, 
    757740
  ], 
  "text": [
    "ARMANDO FOX: It was originally developed using Agile techniques.", 
    "I've seen a lot of Agile code that's crap.", 
    "So the fact that somebody used a certain set of methodologies doesn't", 
    "mean that they got good code.", 
    "Nicely structured, easy to read?", 
    "Well, that's good, but at the same time, if I'm going to be enhancing it", 
    "and making some changes, even if my own code is also elegant, I need", 
    "assurance that I haven't broken the intent of the original author.", 
    "Same thing with the design documents.", 
    "Right?", 
    "Design documents are nice but what are they not?", 
    "They're not code.", 
    "You can't run design documents.", 
    "At the end of the day, code is truth.", 
    "The code is what the computer does.", 
    "The design documents represent what somebody's intention may once have", 
    "been, and unfortunately, the reality is that they drift out of sync.", 
    "And that's not being judgmental about the people who wrote them.", 
    "This is the way the world is.", 
    "So for my money, well covered by tests is what I would want.", 
    "Because the code may be a bundle of crap that I have to spend a lot of", 
    "time deciphering, but at least I'll know if I broke it.", 
    "Right?", 
    "This is like with doctors, do no harm.", 
    "When we're working with legacy code, we want to not break things that are", 
    "working now.", 
    "Because remember, the reason it's there at all is some customer still", 
    "thinks it's important.", 
    "Therefore, breaking it is by definition bad.", 
    "So with that in mind as kind of a basis, how would we go about", 
    "approaching the legacy code base?", 
    "Here's your Rails app.", 
    "We want you to add this feature by next week.", 
    "Write us back with a plan.", 
    "Let me frame this discussion with another Computer History minute.", 
    "This is a VAX-11/780.", 
    "In its day, it was one of the most influential minicomputers.", 
    "It was one of the first ones that was powerful enough to do non-trivial work", 
    "but that sort of university level organizations could afford.", 
    "And one such computer was being used at the University of Toronto for some", 
    "experiments having to do with primate cognition.", 
    "They had these little caps that monkeys would wear that would sense", 
    "the monkey's brain waves.", 
    "And then an 11/780 would receive all that data and analyze it.", 
    "It was a physiology experiment.", 
    "One day the disk drive broke down and the service engineer came.", 
    "There was a button on these removable pack disk drives.", 
    "There was a button called read only.", 
    "It was a physical button that if it was pressed in, the write mechanism", 
    "was physically disengaged.", 
    "You could not write to the disk.", 
    "And there was a piece of tape over the button saying", 
    "don't release the button.", 
    "This is read only, read only disks.", 
    "Of course for the maintenance engineer, who has figured OK, well, I", 
    "won't muck with the read only disks.", 
    "I'll remove their disks and I'll put in a scratch disk that I bring with me", 
    "that has diagnostics on that.", 
    "And I'll start running the diagnostics and then their disk pack", 
    "will still be safe.", 
    "What he didn't realize is the disk drive had also been fitted with a", 
    "controller that interfaced to the skull caps on the monkeys.", 
    "And when he started running the diagnostic programs they created a", 
    "sequence of signals that stunned the monkeys and unfortunately two of them", 
    "actually lost their lives.", 
    "The reason for the read only switch wasn't just the disk pack, it was the", 
    "way that the experiment had been wired together.", 
    "That was the reason you weren't supposed to release that button.", 
    "So what was the mistake that the engineer made?", 
    "He did the right thing in mounting a scratch disk in case the original this", 
    "was valuable but unfortunately, he did not mount a scratch monkey.", 
    "What's the lesson here?", 
    "And, yes, there is one.", 
    "Yes, there is.", 
    "By the way, this is from the jargon file, also known as the new hacker's", 
    "dictionary.", 
    "This is a true story.", 
    "This is verifiable.", 
    "There's interviews with the people who were involved and stuff like that.", 
    "So what's the moral of the story?", 
    "Get your code running in development and make a scratch everything.", 
    "We'll talk about branches next time when we talk about advanced uses of", 
    "version control but you need a branch of the code that you don't ever intend", 
    "to check back in so that you can make some changes.", 
    "You need something that resembles a copy of the database so that you're", 
    "not going anywhere near real customer data.", 
    "You need a staging environment that doesn't share resources with the", 
    "production environment.", 
    "Everything has to be a copy that you plan to throw away.", 
    "So make sure that you mount a scratch monkey.", 
    "Now, in some cases, the system might be a little too large to clone.", 
    "If the production database is many gigabytes in size and it's impractical", 
    "to make a complete copy of it, and then you sort of have to have a plan B", 
    "because we've just finished talking about how you can have associations", 
    "between models and it should be clear that if you try to extract a subset of", 
    "data from the database, you run the risk that the subset you extract", 
    "doesn't have referential integrity.", 
    "You might be extracting a set of rows from one table, but not all of the", 
    "rows of other tables that they appear to depend on.", 
    "So there's a number of challenges involved in doing this, but as close", 
    "as you can get to a scratch version of the installation that mimics the", 
    "production version, get that to run.", 
    "And then get the customer to play with that version, because now anything", 
    "they do is fine.", 
    "They're not working on real data.", 
    "Basically, get the customer to talk through what they're doing.", 
    "What's the task you want to do?", 
    "Well, I want to give admin privilege to that user.", 
    "OK.", 
    "And how do you do that?", 
    "Well first, I have to go to the screen, and then I have to fill in", 
    "these things.", 
    "I have to fill in the name of the user.", 
    "What are they doing?", 
    "They're writing a user story.", 
    "They're telling you how they want to interact with the app.", 
    "You can capture that in a user story and as we'll see shortly, you could", 
    "take the next step and make that story an integration test.", 
    "Why would you do that?", 
    "Because you're capturing the way the system works today.", 
    "So get the customer to sort of go through the stories with you, and once", 
    "you have a sense of the tasks that they involve, that they're performing,", 
    "you can also take a look at the database schema and you can understand", 
    "what are the important classes.", 
    "There's a rake task that prints out the entire schema for you, but another", 
    "thing you can do--", 
    "and let's see if this link still works.", 
    "So this model has a problem.", 
    "It's got too many fields.", 
    "OK.", 
    "I'm trying to make it smaller but I'm not succeeding in making it smaller.", 
    "But nonetheless, this is a model that represents the relationships between--", 
    "and you can tell, depending on the type of arrowhead.", 
    "The single arrowhead is the direction of has_many relationships so whatever", 
    "this thing is, it has many of these things.", 
    "So this is an example of a diagram that was actually generated", 
    "automatically.", 
    "There's a gem that will do this for you called railroady.", 
    "That's one way to do it.", 
    "You could also just inspect the database and inspect the code.", 
    "And you can sketch out the diagram yourself.", 
    "You don't have to get every single class, just what", 
    "are the major classes.", 
    "You're looking for the ones that are highly connected because they probably", 
    "play some important role in the app.", 
    "And of those classes, you can ask, what do they do?", 
    "What are their responsibilities?", 
    "And what classes do they have relationships with?", 
    "What are their collaborators, in the sense that we've seen just now when", 
    "we're talking about associations.", 
    "One way that you can capture this information as you learn it.", 
    "And a recurring theme when you're working with legacy code is if there's", 
    "gaps in the documentation, fill them in as you go.", 
    "One way to document this information is with CRC cards, class", 
    "responsibility and collaborator.", 
    "These were originally developed as a way to help people think about their", 
    "applications in terms of objects from the very beginning.", 
    "This was sort of in the early days of object oriented programming.", 
    "You didn't normally think in terms of these are entities with behaviors.", 
    "You thought procedurally.", 
    "These are the procedures and these are the data structures that", 
    "they operate on.", 
    "We now know that that's super evil and we don't do that anymore.", 
    "But CRC cards are still useful because you can start writing down things", 
    "like, one of the highly connected classes is a ticket.", 
    "And there's things that it's responsible.", 
    "It knows how much it costs and what showing of a movie it's for, but it", 
    "also has collaborators that participate in this relationship.", 
    "So if it knows which showing it's for, there must be some other class that", 
    "contains information about showings.", 
    "If it knows who owns it, then there must be some other class that", 
    "represents an entity that can own a ticket.", 
    "So CRC cards are a way that you can document as you go, and you'll sort of", 
    "end up with a stack of these things.", 
    "And as you annotate, what are the main responsibilities and the collaborators", 
    "of each class, a picture starts to emerge of where the sort of hot spots", 
    "in the action are for that application.", 
    "And by the way, this process runs in reverse, too.", 
    "You can create user stories from this by pointing out that whenever I write", 
    "a feature--", 
    "and remember this is our Connextra format as a type of stakeholder so", 
    "that I can do something.", 
    "I want to perform a task.", 
    "Well, if you put all of the nouns in red and if you put the verbs in blue,", 
    "nouns probably correspond to classes or to relationships between classes", 
    "and verbs probably correspond to steps that you can take in your user story.", 
    "So there's a pretty nice connection.", 
    "You can almost think of this as a lo-fi version of the user story.", 
    "But it's particularly helpful as you're exploring an app.", 
    "It's a way of taking notes for yourself but in a structured manner.", 
    "What else can you look at?", 
    "You could start exploring the code base and looking at what we can call", 
    "informal design documentation.", 
    "And you're not trying to read every line of code.", 
    "Right?", 
    "That would be ridiculous if you're talking about tens of thousands of", 
    "lines, which is what you will be talking about in the assignment where", 
    "we have you deal with legacy code.", 
    "But you can sort of spot check the code for quality.", 
    "And in fact, in the next couple of lectures when we talk about", 
    "refactoring, we'll show you some tools that can quantitatively tell you", 
    "things about various aspects of code quality.", 
    "We talked about things like the code to test ratio, a very high level", 
    "measurement of how good coverage you can get, even if you've got tests that", 
    "don't run with Simplecov.", 
    "Because we're talking about an MVC app in our setting, you could say, OK,", 
    "well what are the models?", 
    "What are the controllers?", 
    "What are the views?", 
    "Are they about what I expect?", 
    "Are there some models that have a lot more logic than others?", 
    "Are there some controllers they have many more views associated with them", 
    "than other controllers?", 
    "If so, those are places where probably a lot of", 
    "interesting stuff is happening.", 
    "RDoc is a system that is just like-- if you know", 
    "Javadoc, it's very similar.", 
    "It lets you embed documentation into your code, thusly, if I put in", 
    "comments that follow a particular format.", 
    "See how I've got these plus signs?", 
    "You can look up the RDoc documentation in the Rubydoc.org website.", 
    "It's really pretty simple, but the nice thing about it is that if you add", 
    "documentation as you go, and remember this is a scratch version so you don't", 
    "have to check it back in, you get a nice representation like this when you", 
    "run RDoc on it.", 
    "You get the documentation pages just like Rails itself comes with.", 
    "Rails documentation is all extracted from the Rail source code using RDoc.", 
    "You can also, if you're lucky enough to have things like the original lo-fi", 
    "mock ups and the user stories, such as you're creating", 
    "with your own customers.", 
    "If those are around, those at least express design intent.", 
    "Those can sort of serve to reinforce--", 
    "if you've figured out what the most important classes are--", 
    "maybe there's like a news group or an internal email list or a wiki about", 
    "the project.", 
    "If the project was on GitHub, GitHub comes with a free wiki for every repo,", 
    "and maybe the project developers had the foresight to populate that wiki", 
    "with something useful.", 
    "If they used something like Campfire or Basecamp to coordinate their design", 
    "reviews, you may be able to look at notes from design reviews.", 
    "So now we're getting more of a level of detail where we're trying to", 
    "explore the implementation and not just the architecture.", 
    "And finally, you can even look at commit logs in GIT.", 
    "Hopefully, the commit logs are not full of things like various changes", 
    "and that's the whole commit logs.", 
    "I wish GIT had like an NLP-AI feature where it would prevent you from", 
    "checking in stupid commit messages.", 
    "And yes, I also am guilty of this.", 
    "But some day your code will come back to haunt you in legacy form and you're", 
    "going to wish that you had kept good informal design docs.", 
    "So this is a handful of techniques and we're going to put some of these into", 
    "practice on the next assignment.", 
    "But what are we really trying to do?", 
    "We're trying to get a handle on the overall code base.", 
    "What are the most important classes and how are they", 
    "connected to each other?", 
    "What are the most important data structures?", 
    "If you look at the database schema, can you readily", 
    "relate it to the classes?", 
    "Where are you going to have to make changes?", 
    "In all likelihood, you don't need to understand the whole code base in", 
    "detail before you can do useful work.", 
    "You need to understand some subset of functionality so probably a subset of", 
    "the models and their interconnections will be sufficient.", 
    "And as you learn more about the code, put your knowledge back into the", 
    "existing code base in the form of documentation.", 
    "You can draw pictures.", 
    "You can use the wiki.", 
    "You can insert documentation into the file using something like RDoc.", 
    "And to test that you've understood all this, let's do a scenario.", 
    "Here's our scenario.", 
    "This is a hypothetical app, only it's not that hypothetical", 
    "because I wrote it.", 
    "But here are the things that we want to model.", 
    "In talking to the customer, the customer says, here's our goal.", 
    "Patrons are people who can either donate money to us or buy tickets to", 
    "see our shows.", 
    "For donations, we need to track which fund they donated to and be able to", 
    "report on that stuff.", 
    "For tickets, we want to track what show they're for so that we can do", 
    "reports by show.", 
    "And there's other things that aren't true of donations because, for", 
    "example, a ticket might expire but a donation doesn't.", 
    "That doesn't make sense for a donation.", 
    "So this is kind of a rambling narrative from the customer.", 
    "Which of these four statements is the least compelling?", 
    "Which of these four is the least likely to play a major role in the way", 
    "that you would model this?"
  ]
}